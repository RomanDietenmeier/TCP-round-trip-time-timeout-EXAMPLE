/******/ (() => { // webpackBootstrap
/******/ 	"use strict";
/******/ 	var __webpack_modules__ = ({

/***/ "./src/constants.ts":
/*!**************************!*\
  !*** ./src/constants.ts ***!
  \**************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "initialRTTPoints": () => (/* binding */ initialRTTPoints)
/* harmony export */ });
var initialRTTPoints = [
    214.93366724112192, 228.0693006177108, 194.63023377156003, 191.3277541941572,
    170.38355957908368, 219.97537576960735, 190.153684877579, 211.86321565068653,
    170.7521759235892, 250.54684515378972, 225.51591362082897, 173.2700071315282,
    213.88239576969826, 242.62225008037697, 177.2942210588158, 215.4961204502749,
    219.4681944826237, 210.630333226394, 222.89031229904742, 218.70912845956485,
];


/***/ })

/******/ 	});
/************************************************************************/
/******/ 	// The module cache
/******/ 	var __webpack_module_cache__ = {};
/******/ 	
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/ 		// Check if module is in cache
/******/ 		var cachedModule = __webpack_module_cache__[moduleId];
/******/ 		if (cachedModule !== undefined) {
/******/ 			return cachedModule.exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = __webpack_module_cache__[moduleId] = {
/******/ 			// no module.id needed
/******/ 			// no module.loaded needed
/******/ 			exports: {}
/******/ 		};
/******/ 	
/******/ 		// Execute the module function
/******/ 		__webpack_modules__[moduleId](module, module.exports, __webpack_require__);
/******/ 	
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/ 	
/************************************************************************/
/******/ 	/* webpack/runtime/define property getters */
/******/ 	(() => {
/******/ 		// define getter functions for harmony exports
/******/ 		__webpack_require__.d = (exports, definition) => {
/******/ 			for(var key in definition) {
/******/ 				if(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {
/******/ 					Object.defineProperty(exports, key, { enumerable: true, get: definition[key] });
/******/ 				}
/******/ 			}
/******/ 		};
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/hasOwnProperty shorthand */
/******/ 	(() => {
/******/ 		__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/make namespace object */
/******/ 	(() => {
/******/ 		// define __esModule on exports
/******/ 		__webpack_require__.r = (exports) => {
/******/ 			if(typeof Symbol !== 'undefined' && Symbol.toStringTag) {
/******/ 				Object.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });
/******/ 			}
/******/ 			Object.defineProperty(exports, '__esModule', { value: true });
/******/ 		};
/******/ 	})();
/******/ 	
/************************************************************************/
var __webpack_exports__ = {};
// This entry need to be wrapped in an IIFE because it need to be isolated against other modules in the chunk.
(() => {
/*!**********************!*\
  !*** ./src/index.ts ***!
  \**********************/
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _constants__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./constants */ "./src/constants.ts");

var minRTTinput = document.getElementById("minRTTinput");
var maxRTTinput = document.getElementById("maxRTTinput");
var baselineInput = document.getElementById("baselineInput");
var pointsInput = document.getElementById("pointsInput");
var deviationInput = document.getElementById("deviationInput");
var alphaERTTInput = document.getElementById("alphaInput");
var betaDevRTTInput = document.getElementById("betaInput");
var randomGenerationButton = document.getElementById("rdmGenButton");
var showERTTCheckbox = document.getElementById("erttCheckbox");
var showDevRTTCheckbox = document.getElementById("devrttCheckbox");
var showTimeoutCheckbox = document.getElementById("timeoutCheckbox");
var canvas = document.getElementById("canvas");
var canvasContext = canvas.getContext("2d");
function clearCanvas() {
    canvasContext.clearRect(0, 0, canvas.width, canvas.height);
}
function diagram() {
    var state = {
        initialState: function () { },
        randomGeneration: function () { },
        calcTimeoutInterval: function () { },
        draw: function () { },
        rttPoints: [],
        erttPoints: [],
        devRTTPoints: [],
        timeoutIntervalPoints: [],
    };
    function drawRTTDeviation() {
        var minRTT = parseInt(minRTTinput.value);
        var maxRTT = parseInt(maxRTTinput.value);
        canvasContext.strokeStyle = "#0008";
        canvasContext.lineWidth = 7;
        canvasContext.beginPath();
        for (var i = 0; i < state.rttPoints.length; i++) {
            var canvasX = canvas.width * (i / (state.rttPoints.length - 1));
            var canvasY = canvas.height -
                canvas.height * ((state.rttPoints[i] - minRTT) / (maxRTT - minRTT));
            var yDeviation = canvasY * (state.devRTTPoints[i] / (maxRTT - minRTT));
            canvasContext.moveTo(canvasX, canvasY + yDeviation);
            canvasContext.lineTo(canvasX, canvasY - yDeviation);
        }
        canvasContext.stroke();
    }
    function drawPoints(points, color) {
        var minRTT = parseInt(minRTTinput.value);
        var maxRTT = parseInt(maxRTTinput.value);
        canvasContext.fillStyle = color;
        canvasContext.strokeStyle = color;
        canvasContext.lineWidth = 2;
        canvasContext.beginPath();
        var previousCanvasX = 0;
        var previousCanvasY = 0;
        for (var i = 0; i < points.length; i++) {
            var canvasX = canvas.width * (i / (points.length - 1));
            var canvasY = canvas.height -
                canvas.height * ((points[i] - minRTT) / (maxRTT - minRTT));
            canvasContext.fillRect(canvasX - 3, canvasY - 3, 7, 7);
            if (i > 0) {
                canvasContext.moveTo(previousCanvasX, previousCanvasY);
                canvasContext.lineTo(canvasX, canvasY);
            }
            previousCanvasX = canvasX;
            previousCanvasY = canvasY;
        }
        canvasContext.stroke();
    }
    function initialState() {
        showERTTCheckbox.checked = true;
        showDevRTTCheckbox.checked = true;
        showTimeoutCheckbox.checked = true;
        clearCanvas();
        minRTTinput.value = "100";
        maxRTTinput.value = "350";
        baselineInput.value = "200";
        pointsInput.value = "20";
        deviationInput.value = "35";
        alphaERTTInput.value = "12.5";
        betaDevRTTInput.value = "25";
        state.rttPoints = _constants__WEBPACK_IMPORTED_MODULE_0__.initialRTTPoints;
        state.erttPoints = [];
        state.devRTTPoints = [];
        state.timeoutIntervalPoints = [];
        state.calcTimeoutInterval();
    }
    function draw() {
        clearCanvas();
        var drawERTT = showERTTCheckbox.checked;
        var drawDevRTT = showDevRTTCheckbox.checked;
        var drawTimeout = showTimeoutCheckbox.checked;
        var minRTT = parseInt(minRTTinput.value);
        var maxRTT = parseInt(maxRTTinput.value);
        canvasContext.strokeStyle = "#808080";
        canvasContext.fillStyle = "#000";
        canvasContext.lineWidth = 2;
        canvasContext.font = "1rem Consolas";
        canvasContext.beginPath();
        canvasContext.moveTo(0, 0);
        canvasContext.lineTo(0, canvas.height);
        for (var i = 0; i <= maxRTT - minRTT; i += 50) {
            var value = canvas.height - (i / (maxRTT - minRTT)) * canvas.height;
            canvasContext.moveTo(0, value);
            canvasContext.lineTo(canvas.width, value);
            canvasContext.fillText("".concat(minRTT + i), 0, value - 2);
        }
        var count = 1;
        var previousI = 0;
        for (var i = 0; i <= canvas.width; i += canvas.width / state.rttPoints.length) {
            if (i - previousI > 40) {
                canvasContext.moveTo(i, canvas.height);
                canvasContext.lineTo(i, canvas.height - 10);
                canvasContext.fillText("".concat(count), i, canvas.height - 2);
                previousI = i;
            }
            count++;
        }
        canvasContext.stroke();
        drawPoints(state.rttPoints, "#00f");
        if (drawERTT)
            drawPoints(state.erttPoints, "magenta");
        if (drawDevRTT)
            drawRTTDeviation();
        if (drawTimeout)
            drawPoints(state.timeoutIntervalPoints, "red");
    }
    function randomGeneration() {
        var baseline = parseInt(baselineInput.value);
        var minRTT = parseInt(minRTTinput.value);
        var maxRTT = parseInt(maxRTTinput.value);
        var deviationPercentage = parseInt(deviationInput.value) / 100;
        var baselineAddLimit = maxRTT - baseline;
        var baselineSubLimit = baseline - minRTT;
        var pointCount = parseInt(pointsInput.value);
        state.rttPoints = [];
        for (var i = 0; i < pointCount; i++) {
            var percentage = Math.random();
            var value = baseline;
            if (Math.random() >= 0.5) {
                //Add
                value += percentage * baselineAddLimit * deviationPercentage;
            }
            else {
                //Subtract
                value -= percentage * baselineSubLimit * deviationPercentage;
            }
            state.rttPoints.push(value);
        }
        calcTimeoutInterval();
        draw();
    }
    function calcTimeoutInterval() {
        if (state.rttPoints.length <= 0)
            return;
        var alphaERTT = parseInt(alphaERTTInput.value) / 100;
        var betaDevRTT = parseInt(betaDevRTTInput.value) / 100;
        state.erttPoints = [state.rttPoints[0]];
        state.devRTTPoints = [];
        state.timeoutIntervalPoints = [parseInt(maxRTTinput.value)];
        for (var i = 0; i < state.rttPoints.length - 1; i++) {
            if (i <= 0) {
                state.erttPoints.push(state.rttPoints[i]);
                state.devRTTPoints.push(Math.abs(state.rttPoints[i] - state.erttPoints[i]));
            }
            else {
                state.erttPoints.push((1 - alphaERTT) * state.erttPoints[i - 1] +
                    alphaERTT * state.rttPoints[i]);
                state.devRTTPoints.push((1 - betaDevRTT) * state.devRTTPoints[i - 1] +
                    betaDevRTT * Math.abs(state.rttPoints[i] - state.erttPoints[i]));
            }
            state.timeoutIntervalPoints.push(state.erttPoints[i] + 4 * state.devRTTPoints[i]);
        }
    }
    state.initialState = initialState;
    state.draw = draw;
    state.randomGeneration = randomGeneration;
    state.calcTimeoutInterval = calcTimeoutInterval;
    state.initialState();
    return state;
}
var rttDiagram = diagram();
rttDiagram.draw();
randomGenerationButton.onclick = rttDiagram.randomGeneration;
showERTTCheckbox.onchange = function () {
    rttDiagram.draw();
};
showDevRTTCheckbox.onchange = function () {
    rttDiagram.draw();
};
showTimeoutCheckbox.onchange = function () {
    rttDiagram.draw();
};
minRTTinput.onchange = function () {
    var value = parseInt(minRTTinput.value);
    if (value < 0) {
        minRTTinput.value = "0";
    }
    var maxValue = parseInt(maxRTTinput.value);
    if (value > maxValue) {
        minRTTinput.value = maxRTTinput.value;
    }
    if (parseInt(baselineInput.value) < value) {
        baselineInput.value = minRTTinput.value;
    }
};
maxRTTinput.onchange = function () {
    var value = parseInt(maxRTTinput.value);
    if (value < 0) {
        maxRTTinput.value = "0";
    }
    var minValue = parseInt(minRTTinput.value);
    if (value < minValue) {
        maxRTTinput.value = minRTTinput.value;
    }
    if (parseInt(baselineInput.value) > value) {
        baselineInput.value = maxRTTinput.value;
    }
};
baselineInput.onchange = function () {
    var value = parseInt(baselineInput.value);
    if (value < parseInt(minRTTinput.value)) {
        baselineInput.value = minRTTinput.value;
    }
    if (value > parseInt(maxRTTinput.value)) {
        baselineInput.value = maxRTTinput.value;
    }
};
function setRemRootOnResize() {
    var pixelAmount = document.body.clientWidth / 65;
    document.documentElement.style.fontSize = "".concat(pixelAmount, "px");
}
setRemRootOnResize();
window.onresize = setRemRootOnResize;

})();

/******/ })()
;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QUFDO0FBQy9ELENBQUM7QUFDRCxrQkFBa0IsRUFBRSxDQUFDO0FBQ3JCLE1BQU0sQ0FBQyxRQUFRLEdBQUcsa0JBQWtCLENBQUMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly90Y3Atcm91bnQtdHJpcC10aW1lLXRpbWVvdXQvLi9zcmMvY29uc3RhbnRzLnRzIiwid2VicGFjazovL3RjcC1yb3VudC10cmlwLXRpbWUtdGltZW91dC93ZWJwYWNrL2Jvb3RzdHJhcCIsIndlYnBhY2s6Ly90Y3Atcm91bnQtdHJpcC10aW1lLXRpbWVvdXQvd2VicGFjay9ydW50aW1lL2RlZmluZSBwcm9wZXJ0eSBnZXR0ZXJzIiwid2VicGFjazovL3RjcC1yb3VudC10cmlwLXRpbWUtdGltZW91dC93ZWJwYWNrL3J1bnRpbWUvaGFzT3duUHJvcGVydHkgc2hvcnRoYW5kIiwid2VicGFjazovL3RjcC1yb3VudC10cmlwLXRpbWUtdGltZW91dC93ZWJwYWNrL3J1bnRpbWUvbWFrZSBuYW1lc3BhY2Ugb2JqZWN0Iiwid2VicGFjazovL3RjcC1yb3VudC10cmlwLXRpbWUtdGltZW91dC8uL3NyYy9pbmRleC50cyJdLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgY29uc3QgaW5pdGlhbFJUVFBvaW50cyA9IFtcclxuICAyMTQuOTMzNjY3MjQxMTIxOTIsIDIyOC4wNjkzMDA2MTc3MTA4LCAxOTQuNjMwMjMzNzcxNTYwMDMsIDE5MS4zMjc3NTQxOTQxNTcyLFxyXG4gIDE3MC4zODM1NTk1NzkwODM2OCwgMjE5Ljk3NTM3NTc2OTYwNzM1LCAxOTAuMTUzNjg0ODc3NTc5LCAyMTEuODYzMjE1NjUwNjg2NTMsXHJcbiAgMTcwLjc1MjE3NTkyMzU4OTIsIDI1MC41NDY4NDUxNTM3ODk3MiwgMjI1LjUxNTkxMzYyMDgyODk3LCAxNzMuMjcwMDA3MTMxNTI4MixcclxuICAyMTMuODgyMzk1NzY5Njk4MjYsIDI0Mi42MjIyNTAwODAzNzY5NywgMTc3LjI5NDIyMTA1ODgxNTgsIDIxNS40OTYxMjA0NTAyNzQ5LFxyXG4gIDIxOS40NjgxOTQ0ODI2MjM3LCAyMTAuNjMwMzMzMjI2Mzk0LCAyMjIuODkwMzEyMjk5MDQ3NDIsIDIxOC43MDkxMjg0NTk1NjQ4NSxcclxuXTtcclxuIiwiLy8gVGhlIG1vZHVsZSBjYWNoZVxudmFyIF9fd2VicGFja19tb2R1bGVfY2FjaGVfXyA9IHt9O1xuXG4vLyBUaGUgcmVxdWlyZSBmdW5jdGlvblxuZnVuY3Rpb24gX193ZWJwYWNrX3JlcXVpcmVfXyhtb2R1bGVJZCkge1xuXHQvLyBDaGVjayBpZiBtb2R1bGUgaXMgaW4gY2FjaGVcblx0dmFyIGNhY2hlZE1vZHVsZSA9IF9fd2VicGFja19tb2R1bGVfY2FjaGVfX1ttb2R1bGVJZF07XG5cdGlmIChjYWNoZWRNb2R1bGUgIT09IHVuZGVmaW5lZCkge1xuXHRcdHJldHVybiBjYWNoZWRNb2R1bGUuZXhwb3J0cztcblx0fVxuXHQvLyBDcmVhdGUgYSBuZXcgbW9kdWxlIChhbmQgcHV0IGl0IGludG8gdGhlIGNhY2hlKVxuXHR2YXIgbW9kdWxlID0gX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fW21vZHVsZUlkXSA9IHtcblx0XHQvLyBubyBtb2R1bGUuaWQgbmVlZGVkXG5cdFx0Ly8gbm8gbW9kdWxlLmxvYWRlZCBuZWVkZWRcblx0XHRleHBvcnRzOiB7fVxuXHR9O1xuXG5cdC8vIEV4ZWN1dGUgdGhlIG1vZHVsZSBmdW5jdGlvblxuXHRfX3dlYnBhY2tfbW9kdWxlc19fW21vZHVsZUlkXShtb2R1bGUsIG1vZHVsZS5leHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKTtcblxuXHQvLyBSZXR1cm4gdGhlIGV4cG9ydHMgb2YgdGhlIG1vZHVsZVxuXHRyZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG59XG5cbiIsIi8vIGRlZmluZSBnZXR0ZXIgZnVuY3Rpb25zIGZvciBoYXJtb255IGV4cG9ydHNcbl9fd2VicGFja19yZXF1aXJlX18uZCA9IChleHBvcnRzLCBkZWZpbml0aW9uKSA9PiB7XG5cdGZvcih2YXIga2V5IGluIGRlZmluaXRpb24pIHtcblx0XHRpZihfX3dlYnBhY2tfcmVxdWlyZV9fLm8oZGVmaW5pdGlvbiwga2V5KSAmJiAhX193ZWJwYWNrX3JlcXVpcmVfXy5vKGV4cG9ydHMsIGtleSkpIHtcblx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBrZXksIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBkZWZpbml0aW9uW2tleV0gfSk7XG5cdFx0fVxuXHR9XG59OyIsIl9fd2VicGFja19yZXF1aXJlX18ubyA9IChvYmosIHByb3ApID0+IChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqLCBwcm9wKSkiLCIvLyBkZWZpbmUgX19lc01vZHVsZSBvbiBleHBvcnRzXG5fX3dlYnBhY2tfcmVxdWlyZV9fLnIgPSAoZXhwb3J0cykgPT4ge1xuXHRpZih0eXBlb2YgU3ltYm9sICE9PSAndW5kZWZpbmVkJyAmJiBTeW1ib2wudG9TdHJpbmdUYWcpIHtcblx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgU3ltYm9sLnRvU3RyaW5nVGFnLCB7IHZhbHVlOiAnTW9kdWxlJyB9KTtcblx0fVxuXHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ19fZXNNb2R1bGUnLCB7IHZhbHVlOiB0cnVlIH0pO1xufTsiLCJpbXBvcnQgeyBpbml0aWFsUlRUUG9pbnRzIH0gZnJvbSBcIi4vY29uc3RhbnRzXCI7XHJcblxyXG5jb25zdCBtaW5SVFRpbnB1dCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwibWluUlRUaW5wdXRcIikgYXMgSFRNTElucHV0RWxlbWVudDtcclxuY29uc3QgbWF4UlRUaW5wdXQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcIm1heFJUVGlucHV0XCIpIGFzIEhUTUxJbnB1dEVsZW1lbnQ7XHJcbmNvbnN0IGJhc2VsaW5lSW5wdXQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcclxuICBcImJhc2VsaW5lSW5wdXRcIlxyXG4pIGFzIEhUTUxJbnB1dEVsZW1lbnQ7XHJcbmNvbnN0IHBvaW50c0lucHV0ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJwb2ludHNJbnB1dFwiKSBhcyBIVE1MSW5wdXRFbGVtZW50O1xyXG5jb25zdCBkZXZpYXRpb25JbnB1dCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFxyXG4gIFwiZGV2aWF0aW9uSW5wdXRcIlxyXG4pIGFzIEhUTUxJbnB1dEVsZW1lbnQ7XHJcbmNvbnN0IGFscGhhRVJUVElucHV0ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXHJcbiAgXCJhbHBoYUlucHV0XCJcclxuKSBhcyBIVE1MSW5wdXRFbGVtZW50O1xyXG5jb25zdCBiZXRhRGV2UlRUSW5wdXQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcclxuICBcImJldGFJbnB1dFwiXHJcbikgYXMgSFRNTElucHV0RWxlbWVudDtcclxuY29uc3QgcmFuZG9tR2VuZXJhdGlvbkJ1dHRvbiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFxyXG4gIFwicmRtR2VuQnV0dG9uXCJcclxuKSBhcyBIVE1MQnV0dG9uRWxlbWVudDtcclxuY29uc3Qgc2hvd0VSVFRDaGVja2JveCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFxyXG4gIFwiZXJ0dENoZWNrYm94XCJcclxuKSBhcyBIVE1MSW5wdXRFbGVtZW50O1xyXG5jb25zdCBzaG93RGV2UlRUQ2hlY2tib3ggPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcclxuICBcImRldnJ0dENoZWNrYm94XCJcclxuKSBhcyBIVE1MSW5wdXRFbGVtZW50O1xyXG5jb25zdCBzaG93VGltZW91dENoZWNrYm94ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXHJcbiAgXCJ0aW1lb3V0Q2hlY2tib3hcIlxyXG4pIGFzIEhUTUxJbnB1dEVsZW1lbnQ7XHJcbmNvbnN0IGNhbnZhcyA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiY2FudmFzXCIpIGFzIEhUTUxDYW52YXNFbGVtZW50O1xyXG5jb25zdCBjYW52YXNDb250ZXh0ID0gY2FudmFzLmdldENvbnRleHQoXCIyZFwiKTtcclxuXHJcbmZ1bmN0aW9uIGNsZWFyQ2FudmFzKCkge1xyXG4gIGNhbnZhc0NvbnRleHQuY2xlYXJSZWN0KDAsIDAsIGNhbnZhcy53aWR0aCwgY2FudmFzLmhlaWdodCk7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGRpYWdyYW0oKSB7XHJcbiAgY29uc3Qgc3RhdGUgPSB7XHJcbiAgICBpbml0aWFsU3RhdGU6ICgpID0+IHt9LFxyXG4gICAgcmFuZG9tR2VuZXJhdGlvbjogKCkgPT4ge30sXHJcbiAgICBjYWxjVGltZW91dEludGVydmFsOiAoKSA9PiB7fSxcclxuICAgIGRyYXc6ICgpID0+IHt9LFxyXG4gICAgcnR0UG9pbnRzOiBbXSBhcyBBcnJheTxudW1iZXI+LFxyXG4gICAgZXJ0dFBvaW50czogW10gYXMgQXJyYXk8bnVtYmVyPixcclxuICAgIGRldlJUVFBvaW50czogW10gYXMgQXJyYXk8bnVtYmVyPixcclxuICAgIHRpbWVvdXRJbnRlcnZhbFBvaW50czogW10gYXMgQXJyYXk8bnVtYmVyPixcclxuICB9O1xyXG4gIGZ1bmN0aW9uIGRyYXdSVFREZXZpYXRpb24oKSB7XHJcbiAgICBjb25zdCBtaW5SVFQgPSBwYXJzZUludChtaW5SVFRpbnB1dC52YWx1ZSk7XHJcbiAgICBjb25zdCBtYXhSVFQgPSBwYXJzZUludChtYXhSVFRpbnB1dC52YWx1ZSk7XHJcbiAgICBjYW52YXNDb250ZXh0LnN0cm9rZVN0eWxlID0gXCIjMDAwOFwiO1xyXG4gICAgY2FudmFzQ29udGV4dC5saW5lV2lkdGggPSA3O1xyXG4gICAgY2FudmFzQ29udGV4dC5iZWdpblBhdGgoKTtcclxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgc3RhdGUucnR0UG9pbnRzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgIGNvbnN0IGNhbnZhc1ggPSBjYW52YXMud2lkdGggKiAoaSAvIChzdGF0ZS5ydHRQb2ludHMubGVuZ3RoIC0gMSkpO1xyXG4gICAgICBjb25zdCBjYW52YXNZID1cclxuICAgICAgICBjYW52YXMuaGVpZ2h0IC1cclxuICAgICAgICBjYW52YXMuaGVpZ2h0ICogKChzdGF0ZS5ydHRQb2ludHNbaV0gLSBtaW5SVFQpIC8gKG1heFJUVCAtIG1pblJUVCkpO1xyXG4gICAgICBjb25zdCB5RGV2aWF0aW9uID0gY2FudmFzWSAqIChzdGF0ZS5kZXZSVFRQb2ludHNbaV0gLyAobWF4UlRUIC0gbWluUlRUKSk7XHJcbiAgICAgIGNhbnZhc0NvbnRleHQubW92ZVRvKGNhbnZhc1gsIGNhbnZhc1kgKyB5RGV2aWF0aW9uKTtcclxuICAgICAgY2FudmFzQ29udGV4dC5saW5lVG8oY2FudmFzWCwgY2FudmFzWSAtIHlEZXZpYXRpb24pO1xyXG4gICAgfVxyXG4gICAgY2FudmFzQ29udGV4dC5zdHJva2UoKTtcclxuICB9XHJcblxyXG4gIGZ1bmN0aW9uIGRyYXdQb2ludHMocG9pbnRzOiBBcnJheTxudW1iZXI+LCBjb2xvcjogc3RyaW5nKSB7XHJcbiAgICBjb25zdCBtaW5SVFQgPSBwYXJzZUludChtaW5SVFRpbnB1dC52YWx1ZSk7XHJcbiAgICBjb25zdCBtYXhSVFQgPSBwYXJzZUludChtYXhSVFRpbnB1dC52YWx1ZSk7XHJcbiAgICBjYW52YXNDb250ZXh0LmZpbGxTdHlsZSA9IGNvbG9yO1xyXG4gICAgY2FudmFzQ29udGV4dC5zdHJva2VTdHlsZSA9IGNvbG9yO1xyXG4gICAgY2FudmFzQ29udGV4dC5saW5lV2lkdGggPSAyO1xyXG4gICAgY2FudmFzQ29udGV4dC5iZWdpblBhdGgoKTtcclxuICAgIGxldCBwcmV2aW91c0NhbnZhc1ggPSAwO1xyXG4gICAgbGV0IHByZXZpb3VzQ2FudmFzWSA9IDA7XHJcblxyXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBwb2ludHMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgY29uc3QgY2FudmFzWCA9IGNhbnZhcy53aWR0aCAqIChpIC8gKHBvaW50cy5sZW5ndGggLSAxKSk7XHJcbiAgICAgIGNvbnN0IGNhbnZhc1kgPVxyXG4gICAgICAgIGNhbnZhcy5oZWlnaHQgLVxyXG4gICAgICAgIGNhbnZhcy5oZWlnaHQgKiAoKHBvaW50c1tpXSAtIG1pblJUVCkgLyAobWF4UlRUIC0gbWluUlRUKSk7XHJcbiAgICAgIGNhbnZhc0NvbnRleHQuZmlsbFJlY3QoY2FudmFzWCAtIDMsIGNhbnZhc1kgLSAzLCA3LCA3KTtcclxuICAgICAgaWYgKGkgPiAwKSB7XHJcbiAgICAgICAgY2FudmFzQ29udGV4dC5tb3ZlVG8ocHJldmlvdXNDYW52YXNYLCBwcmV2aW91c0NhbnZhc1kpO1xyXG4gICAgICAgIGNhbnZhc0NvbnRleHQubGluZVRvKGNhbnZhc1gsIGNhbnZhc1kpO1xyXG4gICAgICB9XHJcbiAgICAgIHByZXZpb3VzQ2FudmFzWCA9IGNhbnZhc1g7XHJcbiAgICAgIHByZXZpb3VzQ2FudmFzWSA9IGNhbnZhc1k7XHJcbiAgICB9XHJcbiAgICBjYW52YXNDb250ZXh0LnN0cm9rZSgpO1xyXG4gIH1cclxuXHJcbiAgZnVuY3Rpb24gaW5pdGlhbFN0YXRlKCkge1xyXG4gICAgc2hvd0VSVFRDaGVja2JveC5jaGVja2VkID0gdHJ1ZTtcclxuICAgIHNob3dEZXZSVFRDaGVja2JveC5jaGVja2VkID0gdHJ1ZTtcclxuICAgIHNob3dUaW1lb3V0Q2hlY2tib3guY2hlY2tlZCA9IHRydWU7XHJcbiAgICBjbGVhckNhbnZhcygpO1xyXG4gICAgbWluUlRUaW5wdXQudmFsdWUgPSBcIjEwMFwiO1xyXG4gICAgbWF4UlRUaW5wdXQudmFsdWUgPSBcIjM1MFwiO1xyXG4gICAgYmFzZWxpbmVJbnB1dC52YWx1ZSA9IFwiMjAwXCI7XHJcbiAgICBwb2ludHNJbnB1dC52YWx1ZSA9IFwiMjBcIjtcclxuICAgIGRldmlhdGlvbklucHV0LnZhbHVlID0gXCIzNVwiO1xyXG4gICAgYWxwaGFFUlRUSW5wdXQudmFsdWUgPSBcIjEyLjVcIjtcclxuICAgIGJldGFEZXZSVFRJbnB1dC52YWx1ZSA9IFwiMjVcIjtcclxuICAgIHN0YXRlLnJ0dFBvaW50cyA9IGluaXRpYWxSVFRQb2ludHM7XHJcbiAgICBzdGF0ZS5lcnR0UG9pbnRzID0gW107XHJcbiAgICBzdGF0ZS5kZXZSVFRQb2ludHMgPSBbXTtcclxuICAgIHN0YXRlLnRpbWVvdXRJbnRlcnZhbFBvaW50cyA9IFtdO1xyXG4gICAgc3RhdGUuY2FsY1RpbWVvdXRJbnRlcnZhbCgpO1xyXG4gIH1cclxuICBmdW5jdGlvbiBkcmF3KCkge1xyXG4gICAgY2xlYXJDYW52YXMoKTtcclxuICAgIGNvbnN0IGRyYXdFUlRUID0gc2hvd0VSVFRDaGVja2JveC5jaGVja2VkO1xyXG4gICAgY29uc3QgZHJhd0RldlJUVCA9IHNob3dEZXZSVFRDaGVja2JveC5jaGVja2VkO1xyXG4gICAgY29uc3QgZHJhd1RpbWVvdXQgPSBzaG93VGltZW91dENoZWNrYm94LmNoZWNrZWQ7XHJcblxyXG4gICAgY29uc3QgbWluUlRUID0gcGFyc2VJbnQobWluUlRUaW5wdXQudmFsdWUpO1xyXG4gICAgY29uc3QgbWF4UlRUID0gcGFyc2VJbnQobWF4UlRUaW5wdXQudmFsdWUpO1xyXG5cclxuICAgIGNhbnZhc0NvbnRleHQuc3Ryb2tlU3R5bGUgPSBcIiM4MDgwODBcIjtcclxuICAgIGNhbnZhc0NvbnRleHQuZmlsbFN0eWxlID0gXCIjMDAwXCI7XHJcbiAgICBjYW52YXNDb250ZXh0LmxpbmVXaWR0aCA9IDI7XHJcbiAgICBjYW52YXNDb250ZXh0LmZvbnQgPSBcIjFyZW0gQ29uc29sYXNcIjtcclxuXHJcbiAgICBjYW52YXNDb250ZXh0LmJlZ2luUGF0aCgpO1xyXG4gICAgY2FudmFzQ29udGV4dC5tb3ZlVG8oMCwgMCk7XHJcbiAgICBjYW52YXNDb250ZXh0LmxpbmVUbygwLCBjYW52YXMuaGVpZ2h0KTtcclxuICAgIGZvciAobGV0IGkgPSAwOyBpIDw9IG1heFJUVCAtIG1pblJUVDsgaSArPSA1MCkge1xyXG4gICAgICBjb25zdCB2YWx1ZSA9IGNhbnZhcy5oZWlnaHQgLSAoaSAvIChtYXhSVFQgLSBtaW5SVFQpKSAqIGNhbnZhcy5oZWlnaHQ7XHJcblxyXG4gICAgICBjYW52YXNDb250ZXh0Lm1vdmVUbygwLCB2YWx1ZSk7XHJcbiAgICAgIGNhbnZhc0NvbnRleHQubGluZVRvKGNhbnZhcy53aWR0aCwgdmFsdWUpO1xyXG4gICAgICBjYW52YXNDb250ZXh0LmZpbGxUZXh0KGAke21pblJUVCArIGl9YCwgMCwgdmFsdWUgLSAyKTtcclxuICAgIH1cclxuICAgIGxldCBjb3VudCA9IDE7XHJcbiAgICBsZXQgcHJldmlvdXNJID0gMDtcclxuXHJcbiAgICBmb3IgKFxyXG4gICAgICBsZXQgaSA9IDA7XHJcbiAgICAgIGkgPD0gY2FudmFzLndpZHRoO1xyXG4gICAgICBpICs9IGNhbnZhcy53aWR0aCAvIHN0YXRlLnJ0dFBvaW50cy5sZW5ndGhcclxuICAgICkge1xyXG4gICAgICBpZiAoaSAtIHByZXZpb3VzSSA+IDQwKSB7XHJcbiAgICAgICAgY2FudmFzQ29udGV4dC5tb3ZlVG8oaSwgY2FudmFzLmhlaWdodCk7XHJcbiAgICAgICAgY2FudmFzQ29udGV4dC5saW5lVG8oaSwgY2FudmFzLmhlaWdodCAtIDEwKTtcclxuICAgICAgICBjYW52YXNDb250ZXh0LmZpbGxUZXh0KGAke2NvdW50fWAsIGksIGNhbnZhcy5oZWlnaHQgLSAyKTtcclxuICAgICAgICBwcmV2aW91c0kgPSBpO1xyXG4gICAgICB9XHJcbiAgICAgIGNvdW50Kys7XHJcbiAgICB9XHJcbiAgICBjYW52YXNDb250ZXh0LnN0cm9rZSgpO1xyXG4gICAgZHJhd1BvaW50cyhzdGF0ZS5ydHRQb2ludHMsIFwiIzAwZlwiKTtcclxuXHJcbiAgICBpZiAoZHJhd0VSVFQpIGRyYXdQb2ludHMoc3RhdGUuZXJ0dFBvaW50cywgXCJtYWdlbnRhXCIpO1xyXG4gICAgaWYgKGRyYXdEZXZSVFQpIGRyYXdSVFREZXZpYXRpb24oKTtcclxuICAgIGlmIChkcmF3VGltZW91dCkgZHJhd1BvaW50cyhzdGF0ZS50aW1lb3V0SW50ZXJ2YWxQb2ludHMsIFwicmVkXCIpO1xyXG4gIH1cclxuXHJcbiAgZnVuY3Rpb24gcmFuZG9tR2VuZXJhdGlvbigpIHtcclxuICAgIGNvbnN0IGJhc2VsaW5lID0gcGFyc2VJbnQoYmFzZWxpbmVJbnB1dC52YWx1ZSk7XHJcbiAgICBjb25zdCBtaW5SVFQgPSBwYXJzZUludChtaW5SVFRpbnB1dC52YWx1ZSk7XHJcbiAgICBjb25zdCBtYXhSVFQgPSBwYXJzZUludChtYXhSVFRpbnB1dC52YWx1ZSk7XHJcbiAgICBjb25zdCBkZXZpYXRpb25QZXJjZW50YWdlID0gcGFyc2VJbnQoZGV2aWF0aW9uSW5wdXQudmFsdWUpIC8gMTAwO1xyXG4gICAgY29uc3QgYmFzZWxpbmVBZGRMaW1pdCA9IG1heFJUVCAtIGJhc2VsaW5lO1xyXG4gICAgY29uc3QgYmFzZWxpbmVTdWJMaW1pdCA9IGJhc2VsaW5lIC0gbWluUlRUO1xyXG5cclxuICAgIGNvbnN0IHBvaW50Q291bnQgPSBwYXJzZUludChwb2ludHNJbnB1dC52YWx1ZSk7XHJcbiAgICBzdGF0ZS5ydHRQb2ludHMgPSBbXTtcclxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgcG9pbnRDb3VudDsgaSsrKSB7XHJcbiAgICAgIGNvbnN0IHBlcmNlbnRhZ2UgPSBNYXRoLnJhbmRvbSgpO1xyXG4gICAgICBsZXQgdmFsdWUgPSBiYXNlbGluZTtcclxuICAgICAgaWYgKE1hdGgucmFuZG9tKCkgPj0gMC41KSB7XHJcbiAgICAgICAgLy9BZGRcclxuICAgICAgICB2YWx1ZSArPSBwZXJjZW50YWdlICogYmFzZWxpbmVBZGRMaW1pdCAqIGRldmlhdGlvblBlcmNlbnRhZ2U7XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgLy9TdWJ0cmFjdFxyXG4gICAgICAgIHZhbHVlIC09IHBlcmNlbnRhZ2UgKiBiYXNlbGluZVN1YkxpbWl0ICogZGV2aWF0aW9uUGVyY2VudGFnZTtcclxuICAgICAgfVxyXG5cclxuICAgICAgc3RhdGUucnR0UG9pbnRzLnB1c2godmFsdWUpO1xyXG4gICAgfVxyXG4gICAgY2FsY1RpbWVvdXRJbnRlcnZhbCgpO1xyXG4gICAgZHJhdygpO1xyXG4gIH1cclxuICBmdW5jdGlvbiBjYWxjVGltZW91dEludGVydmFsKCkge1xyXG4gICAgaWYgKHN0YXRlLnJ0dFBvaW50cy5sZW5ndGggPD0gMCkgcmV0dXJuO1xyXG4gICAgY29uc3QgYWxwaGFFUlRUID0gcGFyc2VJbnQoYWxwaGFFUlRUSW5wdXQudmFsdWUpIC8gMTAwO1xyXG4gICAgY29uc3QgYmV0YURldlJUVCA9IHBhcnNlSW50KGJldGFEZXZSVFRJbnB1dC52YWx1ZSkgLyAxMDA7XHJcbiAgICBzdGF0ZS5lcnR0UG9pbnRzID0gW3N0YXRlLnJ0dFBvaW50c1swXV07XHJcbiAgICBzdGF0ZS5kZXZSVFRQb2ludHMgPSBbXTtcclxuICAgIHN0YXRlLnRpbWVvdXRJbnRlcnZhbFBvaW50cyA9IFtwYXJzZUludChtYXhSVFRpbnB1dC52YWx1ZSldO1xyXG5cclxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgc3RhdGUucnR0UG9pbnRzLmxlbmd0aCAtIDE7IGkrKykge1xyXG4gICAgICBpZiAoaSA8PSAwKSB7XHJcbiAgICAgICAgc3RhdGUuZXJ0dFBvaW50cy5wdXNoKHN0YXRlLnJ0dFBvaW50c1tpXSk7XHJcbiAgICAgICAgc3RhdGUuZGV2UlRUUG9pbnRzLnB1c2goXHJcbiAgICAgICAgICBNYXRoLmFicyhzdGF0ZS5ydHRQb2ludHNbaV0gLSBzdGF0ZS5lcnR0UG9pbnRzW2ldKVxyXG4gICAgICAgICk7XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgc3RhdGUuZXJ0dFBvaW50cy5wdXNoKFxyXG4gICAgICAgICAgKDEgLSBhbHBoYUVSVFQpICogc3RhdGUuZXJ0dFBvaW50c1tpIC0gMV0gK1xyXG4gICAgICAgICAgICBhbHBoYUVSVFQgKiBzdGF0ZS5ydHRQb2ludHNbaV1cclxuICAgICAgICApO1xyXG4gICAgICAgIHN0YXRlLmRldlJUVFBvaW50cy5wdXNoKFxyXG4gICAgICAgICAgKDEgLSBiZXRhRGV2UlRUKSAqIHN0YXRlLmRldlJUVFBvaW50c1tpIC0gMV0gK1xyXG4gICAgICAgICAgICBiZXRhRGV2UlRUICogTWF0aC5hYnMoc3RhdGUucnR0UG9pbnRzW2ldIC0gc3RhdGUuZXJ0dFBvaW50c1tpXSlcclxuICAgICAgICApO1xyXG4gICAgICB9XHJcbiAgICAgIHN0YXRlLnRpbWVvdXRJbnRlcnZhbFBvaW50cy5wdXNoKFxyXG4gICAgICAgIHN0YXRlLmVydHRQb2ludHNbaV0gKyA0ICogc3RhdGUuZGV2UlRUUG9pbnRzW2ldXHJcbiAgICAgICk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBzdGF0ZS5pbml0aWFsU3RhdGUgPSBpbml0aWFsU3RhdGU7XHJcbiAgc3RhdGUuZHJhdyA9IGRyYXc7XHJcbiAgc3RhdGUucmFuZG9tR2VuZXJhdGlvbiA9IHJhbmRvbUdlbmVyYXRpb247XHJcbiAgc3RhdGUuY2FsY1RpbWVvdXRJbnRlcnZhbCA9IGNhbGNUaW1lb3V0SW50ZXJ2YWw7XHJcbiAgc3RhdGUuaW5pdGlhbFN0YXRlKCk7XHJcbiAgcmV0dXJuIHN0YXRlO1xyXG59XHJcbmNvbnN0IHJ0dERpYWdyYW0gPSBkaWFncmFtKCk7XHJcbnJ0dERpYWdyYW0uZHJhdygpO1xyXG5cclxucmFuZG9tR2VuZXJhdGlvbkJ1dHRvbi5vbmNsaWNrID0gcnR0RGlhZ3JhbS5yYW5kb21HZW5lcmF0aW9uO1xyXG5cclxuc2hvd0VSVFRDaGVja2JveC5vbmNoYW5nZSA9ICgpID0+IHtcclxuICBydHREaWFncmFtLmRyYXcoKTtcclxufTtcclxuXHJcbnNob3dEZXZSVFRDaGVja2JveC5vbmNoYW5nZSA9ICgpID0+IHtcclxuICBydHREaWFncmFtLmRyYXcoKTtcclxufTtcclxuXHJcbnNob3dUaW1lb3V0Q2hlY2tib3gub25jaGFuZ2UgPSAoKSA9PiB7XHJcbiAgcnR0RGlhZ3JhbS5kcmF3KCk7XHJcbn07XHJcblxyXG5taW5SVFRpbnB1dC5vbmNoYW5nZSA9ICgpID0+IHtcclxuICBjb25zdCB2YWx1ZSA9IHBhcnNlSW50KG1pblJUVGlucHV0LnZhbHVlKTtcclxuICBpZiAodmFsdWUgPCAwKSB7XHJcbiAgICBtaW5SVFRpbnB1dC52YWx1ZSA9IFwiMFwiO1xyXG4gIH1cclxuICBjb25zdCBtYXhWYWx1ZSA9IHBhcnNlSW50KG1heFJUVGlucHV0LnZhbHVlKTtcclxuICBpZiAodmFsdWUgPiBtYXhWYWx1ZSkge1xyXG4gICAgbWluUlRUaW5wdXQudmFsdWUgPSBtYXhSVFRpbnB1dC52YWx1ZTtcclxuICB9XHJcbiAgaWYgKHBhcnNlSW50KGJhc2VsaW5lSW5wdXQudmFsdWUpIDwgdmFsdWUpIHtcclxuICAgIGJhc2VsaW5lSW5wdXQudmFsdWUgPSBtaW5SVFRpbnB1dC52YWx1ZTtcclxuICB9XHJcbn07XHJcbm1heFJUVGlucHV0Lm9uY2hhbmdlID0gKCkgPT4ge1xyXG4gIGNvbnN0IHZhbHVlID0gcGFyc2VJbnQobWF4UlRUaW5wdXQudmFsdWUpO1xyXG4gIGlmICh2YWx1ZSA8IDApIHtcclxuICAgIG1heFJUVGlucHV0LnZhbHVlID0gXCIwXCI7XHJcbiAgfVxyXG4gIGNvbnN0IG1pblZhbHVlID0gcGFyc2VJbnQobWluUlRUaW5wdXQudmFsdWUpO1xyXG4gIGlmICh2YWx1ZSA8IG1pblZhbHVlKSB7XHJcbiAgICBtYXhSVFRpbnB1dC52YWx1ZSA9IG1pblJUVGlucHV0LnZhbHVlO1xyXG4gIH1cclxuICBpZiAocGFyc2VJbnQoYmFzZWxpbmVJbnB1dC52YWx1ZSkgPiB2YWx1ZSkge1xyXG4gICAgYmFzZWxpbmVJbnB1dC52YWx1ZSA9IG1heFJUVGlucHV0LnZhbHVlO1xyXG4gIH1cclxufTtcclxuYmFzZWxpbmVJbnB1dC5vbmNoYW5nZSA9ICgpID0+IHtcclxuICBjb25zdCB2YWx1ZSA9IHBhcnNlSW50KGJhc2VsaW5lSW5wdXQudmFsdWUpO1xyXG4gIGlmICh2YWx1ZSA8IHBhcnNlSW50KG1pblJUVGlucHV0LnZhbHVlKSkge1xyXG4gICAgYmFzZWxpbmVJbnB1dC52YWx1ZSA9IG1pblJUVGlucHV0LnZhbHVlO1xyXG4gIH1cclxuICBpZiAodmFsdWUgPiBwYXJzZUludChtYXhSVFRpbnB1dC52YWx1ZSkpIHtcclxuICAgIGJhc2VsaW5lSW5wdXQudmFsdWUgPSBtYXhSVFRpbnB1dC52YWx1ZTtcclxuICB9XHJcbn07XHJcblxyXG5mdW5jdGlvbiBzZXRSZW1Sb290T25SZXNpemUoKSB7XHJcbiAgY29uc3QgcGl4ZWxBbW91bnQgPSBkb2N1bWVudC5ib2R5LmNsaWVudFdpZHRoIC8gNjU7XHJcbiAgZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LnN0eWxlLmZvbnRTaXplID0gYCR7cGl4ZWxBbW91bnR9cHhgO1xyXG59XHJcbnNldFJlbVJvb3RPblJlc2l6ZSgpO1xyXG53aW5kb3cub25yZXNpemUgPSBzZXRSZW1Sb290T25SZXNpemU7XHJcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==